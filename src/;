import * as React from 'react'
import {useRef} from "react"
import Button from "@mui/material/Button"
import Typography from "@mui/material/Typography"
import Box from "@mui/material/Box"
import Container from "@mui/material/Container"
import Grid from "@mui/material/Unstable_Grid2"
import BottomNavigation from "@mui/material/BottomNavigation"
import BottomNavigationAction from '@mui/material/BottomNavigationAction';
import AppBar from '@mui/material/AppBar'
import {Toolbar} from '@mui/material'
import {Pagination} from '@mui/material'

import Flicking from "@egjs/react-flicking"
import "@egjs/react-flicking/dist/flicking.css"

import RestoreIcon from '@mui/icons-material/Restore';
import FavoriteIcon from '@mui/icons-material/Favorite';
import LocationOnIcon from '@mui/icons-material/LocationOn';

import '@fontsource/roboto/300.css';
import '@fontsource/roboto/400.css';
import '@fontsource/roboto/500.css';
import '@fontsource/roboto/700.css';

function SimpleBottomNavigation() {
  const [value, setValue] = React.useState(0);

  return (
    <Box sx={{ width: "100%", display:{xs:"block", md:"none"}, position:"fixed", bottom:"0px"}}>
      <BottomNavigation
        showLabels
        value={value}
        onChange={(event, newValue) => {
          setValue(newValue);
        }}
      >
        <BottomNavigationAction label="Recents" icon={<RestoreIcon />} />
        <BottomNavigationAction label="Favorites" icon={<FavoriteIcon />} />
        <BottomNavigationAction label="Nearby" icon={<LocationOnIcon />} />
      </BottomNavigation>
    </Box>
  );
}

function DeskBar(){
	
	return (
		<Box sx={{width:"100%"}}>
			<AppBar position="static">
				<Toolbar>
					<img src="lizard.png" width="41px"/>
					<Button variant="text" color="inherit" sx={{maxwidth:"28%"}}>home</Button>
					<Button variant="text" color="inherit" sx={{maxwidth:"28%"}}>academic media</Button>
				</Toolbar>
			</AppBar>
		</Box>
	)
}

function HelloWorlds(){
	return (
		<Box>
			<SimpleBottomNavigation />
			<Grid container spacing={{xs:1, sm:15}}>
				<Grid xs={12}>
					
				</Grid>
				<Grid xs={12} md={6}><Typography variant="h5">
					all set.
				</Typography></Grid>
				<Grid xs={12} md={6}><Typography variant="body2">
					this sample page should be enough.
				</Typography>  </Grid>
				<Grid xs={12} md={6}><Typography variant="body">
					No frets so far, new paragraph goes further.
				</Typography></Grid>
				<Grid xs={12} md={6}><Typography variant="body" align="right">
					<FavoriteIcon />
					Copium. Trying to justify. Pseudoarguments crafted for the sole purpose of justifying a behaviour internally aknowledged as questionable by the author itself.
				</Typography></Grid>
			</Grid>
		</Box>
	)
}

const featured=[
<img src="lizard.png"></img>,
	<Typography align="center">unlimited meme works.</Typography>,
	<Typography align="center">honestly i'm running out of ideas.</Typography>
]
	
function Carrousel(){
	return (

	)	
}

function App() {

	const [postsPage, setPostsPage] = React.useState(0)
	const theFlicker = useRef(null)

  return (
	<Box sx={{width:"100%",height:"100%"}}>
		<DeskBar/>
		<Typography variant="h3" component="h1"> Flavoured with Computer Science.</Typography>
		<Typography variant="body" >based cringe normie chad soy wojak shrigma the attentiveness of a non-attractive human-being depends on few factors when taking into account popular thresholds such as 5-minute staredowns, 10% content memorized or direct eyecontact... you still reading this?</Typography>
		<Pagination count={featured.length} page={postsPage+1} onChange={(e,val) => {setPostsPage(val-1);
			theFlicker.current.moveTo(val-1)
			}}/>
		<Box sx={{width:"100%"}}><Flicking align="center" 
			onMoveEnd={e => {console.log(e);}}
			ref={theFlicker}
			onWillChange={(ev) => setPostsPage(ev.index)}
			panelsPerView={1}
			>
		{featured.map((e,i) => <div className="flicking-panel" key={i}><Box sx={{ display:"flex", justifyContent:"center"}}>{e}</Box></div>)}
		</Flicking></Box>
		<Box sx={{display:"flex",justifyContent:"center"}}><Typography  variant="body"sx={{width:"100%"}} align={"center"}>centered text?</Typography></Box>
		<SimpleBottomNavigation />
	</Box>
	)
}

export default App;
